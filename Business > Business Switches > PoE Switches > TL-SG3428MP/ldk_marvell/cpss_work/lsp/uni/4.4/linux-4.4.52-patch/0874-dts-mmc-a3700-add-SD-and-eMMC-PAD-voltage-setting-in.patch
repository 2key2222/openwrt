From 651c6943199e7ca8c569fbf0b50dedd89b092b33 Mon Sep 17 00:00:00 2001
From: Victor Gu <xigu@marvell.com>
Date: Thu, 25 Aug 2016 00:42:58 +0800
Subject: [PATCH 0874/2241] dts: mmc: a3700: add SD and eMMC PAD voltage
 setting in DT

Change-Id: I1a3dd25dea309f2ffffbe65d1d4c2bcac84586bf
Signed-off-by: Victor Gu <xigu@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/32166
Reviewed-by: Wilson Ding <dingwei@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
---
 arch/arm64/boot/dts/marvell/armada-3720-db.dts    | 1 +
 arch/arm64/boot/dts/marvell/armada-3720-rz-db.dts | 2 +-
 arch/arm64/boot/dts/marvell/armada-37xx.dtsi      | 6 ++++--
 3 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/arch/arm64/boot/dts/marvell/armada-3720-db.dts b/arch/arm64/boot/dts/marvell/armada-3720-db.dts
index 19f6ad8..19429f9 100644
--- a/arch/arm64/boot/dts/marvell/armada-3720-db.dts
+++ b/arch/arm64/boot/dts/marvell/armada-3720-db.dts
@@ -154,6 +154,7 @@
 			};
 
 			sdhci0: sdhci@d8000 {
+				xenon,fixed-1-8v-pad-ctrl;
 				non-removable;
 				bus-width = <8>;
 				tuning-count = <9>;
diff --git a/arch/arm64/boot/dts/marvell/armada-3720-rz-db.dts b/arch/arm64/boot/dts/marvell/armada-3720-rz-db.dts
index f200c6f..515f356 100644
--- a/arch/arm64/boot/dts/marvell/armada-3720-rz-db.dts
+++ b/arch/arm64/boot/dts/marvell/armada-3720-rz-db.dts
@@ -154,7 +154,7 @@
 			};
 
 			sdhci0: sdhci@d8000 {
-				xenon,emmc;
+				xenon,fixed-1-8v-pad-ctrl;
 				non-removable;
 				bus-width = <8>;
 				tuning-count = <6>;
diff --git a/arch/arm64/boot/dts/marvell/armada-37xx.dtsi b/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
index f9f540d..2cc3851 100644
--- a/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
+++ b/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
@@ -308,7 +308,8 @@
 
 			sdhci1: sdhci@d0000 {
 				compatible = "marvell,xenon-sdhci";
-				reg = <0xd0000 0x300>;
+				reg = <0xd0000 0x300>,
+				      <0x1e808 0x4>;
 				interrupts = <GIC_SPI 25 IRQ_TYPE_LEVEL_HIGH>;
 				xenon,slotno = <0>;
 				clock-names = "core";
@@ -318,7 +319,8 @@
 
 			sdhci0: sdhci@d8000 {
 				compatible = "marvell,xenon-sdhci";
-				reg = <0xd8000 0x300>;
+				reg = <0xd8000 0x300>,
+				      <0x17808 0x4>;
 				interrupts = <GIC_SPI 26 IRQ_TYPE_LEVEL_HIGH>;
 				xenon,slotno = <0>;
 				clock-names = "core";
-- 
2.7.4

