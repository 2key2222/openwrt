--- a/drivers/of/of_mdio.c	2016-03-31 09:18:56.000000000 +0800
+++ b/drivers/of/of_mdio.c	2016-03-31 09:19:37.000000000 +0800
@@ -17,6 +17,7 @@
 #include <linux/of.h>
 #include <linux/of_irq.h>
 #include <linux/of_mdio.h>
+#include <linux/of_platform.h>
 #include <linux/module.h>
 
 MODULE_AUTHOR("Grant Likely <grant.likely@secretlab.ca>");
@@ -73,6 +74,11 @@
 			continue;
 		}
 
+		if (of_device_is_compatible(child, "ethernet-phy-nexus")) {
+			of_platform_device_create(child, NULL, &mdio->dev);
+			continue;
+		}
+
 		if (mdio->irq) {
 			mdio->irq[addr] = irq_of_parse_and_map(child, 0);
 			if (!mdio->irq[addr])
@@ -84,11 +90,15 @@
 		phy = get_phy_device(mdio, addr, is_c45);
 
 		if (!phy || IS_ERR(phy)) {
+			struct phy_c45_device_ids c45_ids = {0};
+			phy = phy_device_create(mdio, addr, 0, is_c45, &c45_ids);
+			if (!phy || IS_ERR(phy)) {
 			dev_err(&mdio->dev,
-				"cannot get PHY at address %i\n",
+					"cannot create PHY at address %i\n",
 				addr);
 			continue;
 		}
+		}
 
 		/* Associate the OF node with the device structure so it
 		 * can be looked up later */
