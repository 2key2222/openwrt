diff -urN a/arch/mips/include/asm/dma.h b/arch/mips/include/asm/dma.h
--- a/arch/mips/include/asm/dma.h	2014-09-02 16:41:02.000000000 +0800
+++ b/arch/mips/include/asm/dma.h	2018-01-07 21:00:45.157987270 +0800
@@ -86,6 +86,9 @@
 #if defined(CONFIG_SGI_IP22) || defined(CONFIG_SGI_IP28)
 /* don't care; ISA bus master won't work, ISA slave DMA supports 32bit addr */
 #define MAX_DMA_ADDRESS		PAGE_OFFSET
+#elif defined (CONFIG_RALINK_MT7621)
+/* For System Memory is 128,256,512MB, Allocate up to 16,16,32M of available RAM to DMA */
+#define MAX_DMA_ADDRESS		(PAGE_OFFSET + (CONFIG_KERNEL_START_ADDR - 0x80001000)) 
 #else
 #define MAX_DMA_ADDRESS		(PAGE_OFFSET + 0x01000000)
 #endif
diff -urN a/arch/mips/Kconfig b/arch/mips/Kconfig
--- a/arch/mips/Kconfig	2018-01-07 19:41:52.523321700 +0800
+++ b/arch/mips/Kconfig	2018-01-07 20:59:38.431314315 +0800
@@ -93,6 +93,7 @@
 	select SYS_SUPPORTS_SMP
 	select SYS_SUPPORTS_MIPS_CMP
 	select IRQ_GIC
+	select WEAK_REORDERING_BEYOND_LLSC
 	help
 	  Ralink evaluation board based on MT7621
 
diff -urN a/arch/mips/kernel/head.S b/arch/mips/kernel/head.S
--- a/arch/mips/kernel/head.S	2018-01-07 19:41:46.172321700 +0800
+++ b/arch/mips/kernel/head.S	2018-01-07 21:04:40.632898455 +0800
@@ -24,7 +24,9 @@
 #include <asm/pgtable-bits.h>
 #include <asm/mipsregs.h>
 #include <asm/stackframe.h>
-
+#if defined (CONFIG_RALINK_MT7621)
+#include <asm/cacheops.h>
+#endif
 #include <kernel-entry-init.h>
 
 	/*
@@ -157,11 +159,58 @@
 	kernel_entry_setup                      # cpu specific setup
 
 	setup_c0_status_pri
+#ifdef CONFIG_RALINK_MT7621
+	/* Set L2 CCA Override to WT on lowest 256MB */
+	.set push
+	.set noreorder
+
+	jal 1f
+	li t0, 5
+1:
+	ins ra, t0, 29, 3
+	addiu   ra, 2f-1b
+	jr  ra
+	nop
 
+   /* Running in KSEG 1*/
+2:
+	.set pop
+	/* Flush L2 Cache before setting CCA overrides */
+	/* Define L2 Cache Line Size 32 */
+#define L2_LINE_SIZE  32
+	/* Define L2 Size 256K */
+#define L2_SIZE       (256<<10)
+	li      v0, L2_SIZE
+	move    v1, zero 
+
+1:
+	cache   Index_Writeback_Inv_SD, 0(v1)
+	addiu   v1, v1, L2_LINE_SIZE    /* Increase Index */
+	bne     v1, v0, 1b
+	nop
+
+	sync
+
+	/* Override bottom half of DDR to uncached (DMA zone) */
+	lui     v0,0xbfbf
+	ori     v0,v0,0x8000
+
+	lui    v1, (~(((CONFIG_KERNEL_START_ADDR-0x80001000)-1)>>16))& 0xFFFF
+	ori     v1,v1,0x0051
+	sw      v1, 0xb8(v0)
+
+	/* Base */
+	sw      zero,0xb0(v0)
+
+	/* Set default override to WT */
+	lui     v1,0x1fbf
+	ori     v1,v1,0x8010
+	sw      v1, 0x08(v0)
+#endif
 	/* We might not get launched at the address the kernel is linked to,
 	   so we jump there.  */
 	PTR_LA	t0, 0f
-	jr	t0
+	jr.hb   t0
 #ifdef CONFIG_EVA
 	.align  8
 #endif
diff -urN a/arch/mips/kernel/setup.c b/arch/mips/kernel/setup.c
--- a/arch/mips/kernel/setup.c	2018-01-07 19:41:52.500321700 +0800
+++ b/arch/mips/kernel/setup.c	2018-01-07 21:05:41.479319274 +0800
@@ -446,6 +446,10 @@
 	 * Reserve the bootmap memory.
 	 */
 	reserve_bootmem(PFN_PHYS(mapstart), bootmap_size, BOOTMEM_DEFAULT);
+#if defined (CONFIG_RALINK_MT7621)
+	/* Free memory up to start of kernel image */
+	free_bootmem(0x1000, ((unsigned long)&_text - 0x80001000));
+#endif
 
 	/*
 	 * Reserve initrd memory if needed.
diff -urN a/arch/mips/Makefile b/arch/mips/Makefile
--- a/arch/mips/Makefile	2018-01-07 19:41:46.755321700 +0800
+++ b/arch/mips/Makefile	2018-01-07 21:06:53.347313085 +0800
@@ -194,6 +194,10 @@
 ifdef CONFIG_PHYSICAL_START
 load-y					= $(CONFIG_PHYSICAL_START)
 endif
+ifdef CONFIG_RALINK_MT7621
+load-y = 0xffffffff00000000+$(CONFIG_KERNEL_START_ADDR)
+endif
+
 entry-y				= 0x$(shell $(NM) vmlinux 2>/dev/null \
 					| grep "\bkernel_entry\b" | cut -f1 -d \ )
 
diff -urN a/arch/mips/mm/dma-default.c b/arch/mips/mm/dma-default.c
--- a/arch/mips/mm/dma-default.c	2018-01-07 19:41:43.325321700 +0800
+++ b/arch/mips/mm/dma-default.c	2018-01-07 22:12:57.284619168 +0800
@@ -87,7 +87,7 @@
 	else
 #endif
 #if defined(CONFIG_ZONE_DMA) && !defined(CONFIG_ZONE_DMA32)
-	     if (dev->coherent_dma_mask < DMA_BIT_MASK(64))
+	     if (dev == NULL || dev->coherent_dma_mask <= DMA_BIT_MASK(64))
 		dma_flag = __GFP_DMA;
 	else
 #endif
diff -urN a/arch/mips/ralink/Kconfig b/arch/mips/ralink/Kconfig
--- a/arch/mips/ralink/Kconfig	2018-01-07 19:41:52.501321700 +0800
+++ b/arch/mips/ralink/Kconfig	2018-01-07 21:10:50.058556330 +0800
@@ -189,7 +189,15 @@
 	bool "MT7621-ASIC"
 	select USB_ARCH_HAS_HCD
 	select USB_ARCH_HAS_XHCI
-
+	select ZONE_DMA	
+ 
+config KERNEL_START_ADDR
+	hex
+	depends on  RALINK_MT7621
+	default 0x81001000 if RT2880_DRAM_64M
+	default 0x81001000 if RT2880_DRAM_128M
+	default 0x81001000 if RT2880_DRAM_256M
+	default 0x82001000 if RT2880_DRAM_512M
 endchoice
 
 endif
@@ -344,7 +352,7 @@
        default 0x1C000000 if !FLASH_REMAP_NEED && RALINK_RT3883
        default 0x1C000000 if !FLASH_REMAP_NEED && RALINK_RT6855
        default 0x1C000000 if !FLASH_REMAP_NEED && RALINK_MT7620
-       default 0x1FC00000 if !FLASH_REMAP_NEED && RALINK_MT7621
+       default 0x1C000000 if !FLASH_REMAP_NEED && RALINK_MT7621
        default 0x1C000000 if !FLASH_REMAP_NEED && RALINK_MT7628
 
 config MTD_PHYSMAP_LEN
